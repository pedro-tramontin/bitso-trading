<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import br.com.pedront.bitsotrading.FormattedDoubleTableCell?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressIndicator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<BorderPane xmlns="http://javafx.com/javafx/8.0.121" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="br.com.pedront.bitsotrading.DashboardController">
    <center>
        <AnchorPane styleClass="parent-pane">
            <VBox styleClass="box-spacing" AnchorPane.bottomAnchor="10" AnchorPane.leftAnchor="10"
                  AnchorPane.rightAnchor="0" AnchorPane.topAnchor="10">
                <HBox styleClass="box-spacing" VBox.vgrow="ALWAYS">
                    <VBox HBox.hgrow="ALWAYS">
                        <Label style="-fx-font-weight: bold;" text="BEST BIDS"/>
                        <StackPane VBox.vgrow="ALWAYS">
                            <TableView fx:id="bestBidsTableView" layoutX="14.0" layoutY="59.0" minHeight="200.0"
                                       minWidth="300.0" prefHeight="200.0" prefWidth="300.0">
                                <columns>
                                    <TableColumn text="Amount">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="amount"/>
                                        </cellValueFactory>
                                        <cellFactory>
                                            <FormattedDoubleTableCell pattern="\%.8f"/>
                                        </cellFactory>
                                    </TableColumn>
                                    <TableColumn text="Price">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="price"/>
                                        </cellValueFactory>
                                        <cellFactory>
                                            <FormattedDoubleTableCell pattern="\%.2f"/>
                                        </cellFactory>
                                    </TableColumn>
                                </columns>
                            </TableView>
                            <HBox style="-fx-background-color: rgba(255, 255, 255, 0.6)" alignment="CENTER"
                                  fx:id="paneProgressBids">
                                <ProgressIndicator minHeight="40" maxHeight="40" minWidth="40" maxWidth="40"/>
                            </HBox>
                        </StackPane>
                    </VBox>
                    <VBox HBox.hgrow="ALWAYS">
                        <Label style="-fx-font-weight: bold;" text="BEST ASKS"/>
                        <StackPane VBox.vgrow="ALWAYS">
                            <TableView fx:id="bestAsksTableView" layoutX="326.0" layoutY="59.0" minHeight="200.0"
                                       minWidth="300.0" prefHeight="200.0" prefWidth="300.0" VBox.vgrow="ALWAYS">
                                <columns>
                                    <TableColumn text="Amount">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="amount"/>
                                        </cellValueFactory>
                                        <cellFactory>
                                            <FormattedDoubleTableCell pattern="\%.8f"/>
                                        </cellFactory>
                                    </TableColumn>
                                    <TableColumn text="Price">
                                        <cellValueFactory>
                                            <PropertyValueFactory property="price"/>
                                        </cellValueFactory>
                                        <cellFactory>
                                            <FormattedDoubleTableCell pattern="\%.2f"/>
                                        </cellFactory>
                                    </TableColumn>
                                </columns>
                            </TableView>
                            <HBox style="-fx-background-color: rgba(255, 255, 255, 0.6)" alignment="CENTER"
                                  fx:id="paneProgressAsks">
                                <ProgressIndicator minHeight="40" maxHeight="40" minWidth="40" maxWidth="40"/>
                            </HBox>
                        </StackPane>
                    </VBox>
                </HBox>
                <VBox VBox.vgrow="ALWAYS">
                    <Label style="-fx-font-weight: bold;" text="TRADES"/>
                    <StackPane VBox.vgrow="ALWAYS">
                        <TableView fx:id="tradesTableView" layoutX="14.0" layoutY="220.0" minHeight="247.0"
                                   minWidth="607.0"
                                   prefHeight="247.0" prefWidth="607.0" VBox.vgrow="ALWAYS">
                            <columns>
                                <TableColumn text="Created At">
                                    <cellValueFactory>
                                        <PropertyValueFactory property="createdAt"/>
                                    </cellValueFactory>
                                </TableColumn>
                                <TableColumn text="Maker Side">
                                    <cellValueFactory>
                                        <PropertyValueFactory property="makerSide"/>
                                    </cellValueFactory>
                                </TableColumn>
                                <TableColumn text="Amount">
                                    <cellValueFactory>
                                        <PropertyValueFactory property="amount"/>
                                    </cellValueFactory>
                                    <cellFactory>
                                        <FormattedDoubleTableCell pattern="\%.8f"/>
                                    </cellFactory>
                                </TableColumn>
                                <TableColumn text="Price">
                                    <cellValueFactory>
                                        <PropertyValueFactory property="price"/>
                                    </cellValueFactory>
                                    <cellFactory>
                                        <FormattedDoubleTableCell pattern="\%.2f"/>
                                    </cellFactory>
                                </TableColumn>
                                <TableColumn text="Simulated">
                                    <cellValueFactory>
                                        <PropertyValueFactory property="simulated"/>
                                    </cellValueFactory>
                                </TableColumn>
                            </columns>
                        </TableView>
                        <HBox style="-fx-background-color: rgba(255, 255, 255, 0.6)" alignment="CENTER"
                              fx:id="paneProgressTrades">
                            <ProgressIndicator minHeight="40" maxHeight="40" minWidth="40" maxWidth="40"/>
                        </HBox>
                    </StackPane>
                </VBox>
            </VBox>
        </AnchorPane>
    </center>

    <right>
        <AnchorPane>
            <BorderPane.margin>
                <Insets bottom="10" left="10" right="10" top="10"/>
            </BorderPane.margin>

            <VBox maxWidth="200.0" style="-fx-border-color: #cccccc; -fx-border-width: 0px 0px 0px 2px;"
                  AnchorPane.bottomAnchor="10" AnchorPane.leftAnchor="10" AnchorPane.rightAnchor="10"
                  AnchorPane.topAnchor="10">
                <padding>
                    <Insets bottom="10" left="20" right="10" top="10"/>
                </padding>

                <Label style="-fx-font-weight: bold;" text="CONFIGURATION"/>

                <HBox alignment="CENTER_LEFT" styleClass="box-spacing">
                    <padding>
                        <Insets top="20"/>
                    </padding>

                    <Label text="X:"/>
                    <TextField maxWidth="100.0" promptText="X" text="10" fx:id="xTextField"/>
                </HBox>

                <Label style="-fx-font-size: 10px;" text="THE NUMBER OF BIDS, ASKS, AND TRADES TO SHOW"
                       wrapText="true"/>

                <Label style="-fx-padding: 40px 0px 0px 0px;" text="CONTRARIAN TRADING STRATEGY SIMULATION"
                       wrapText="true"/>

                <HBox alignment="CENTER_LEFT" styleClass="box-spacing">
                    <padding>
                        <Insets top="10"/>
                    </padding>
                    <Label fx:id="simulatorLabel" alignment="CENTER" minHeight="20.0" minWidth="150.0"
                           style="-fx-background-color: #f8d7da; -fx-text-fill: #721c24; -fx-font-weight: bold;                                 -fx-border-color: #f5c6cb; -fx-border-width: 1px;"
                           text="DISABLED"/>
                </HBox>

                <HBox alignment="CENTER_LEFT" styleClass="box-spacing">
                    <padding>
                        <Insets top="10"/>
                    </padding>

                    <Label text="M:"/>
                    <TextField fx:id="mTextField" maxWidth="100.0" promptText="M"/>
                </HBox>

                <Label style="-fx-font-size: 10px;" text="THE NUMBER OF UPTICKS" wrapText="true"/>

                <HBox alignment="CENTER_LEFT" styleClass="box-spacing">
                    <padding>
                        <Insets top="10"/>
                    </padding>

                    <Label text="N:"/>
                    <TextField fx:id="nTextField" maxWidth="100.0" promptText="N"/>
                </HBox>

                <Label style="-fx-font-size: 10px;" text="THE NUMBER OF DOWNTICKS" wrapText="true"/>

                <HBox alignment="CENTER_LEFT" styleClass="box-spacing">
                    <padding>
                        <Insets top="10"/>
                    </padding>

                    <Button fx:id="simulatorToggleButton" minWidth="80.0" text="ENABLE"/>
                </HBox>
            </VBox>
        </AnchorPane>
    </right>
    <stylesheets>
        <URL value="@dashboard.css"/>
    </stylesheets>
</BorderPane>
